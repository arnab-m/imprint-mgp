"within MicroGrid.Examples.OnePhase; model NewModel  extends Modelica.Icons.Example; Modelica.Blocks.Sources.Constant GridCapacity(k=77000); MicroGrid.OnePhase.Sources.PowerSource MainGrid(V=440); MicroGrid.OnePhase.Components.Transformers.TransformerBasic Transformer4(TurnsRatio=14.67); MicroGrid.Interfaces.OnePhase.BusBar BusBar1(n=1); MicroGrid.OnePhase.Components.Load.Resistive load4; MicroGrid.Examples.OnePhase.Building_load Building_load4; MicroGrid.Interfaces.OnePhase.BusBar BusBar2(n=4); MicroGrid.OnePhase.Components.Breaker.CircuitBreaker CircuitBreaker1(Cut=20); Modelica.Blocks.Sources.Constant irradiance1(k=900); MicroGrid.OnePhase.Sources.PV_GridTie PV_GridTie1(Np=100,moduleData=moduleData,useConstantIrradiance=false); MicroGrid.OnePhase.Components.Transformers.TransformerBasic Transformer3(TurnsRatio=14.67); Modelica.Blocks.Sources.Constant irradiance2(k=800); MicroGrid.OnePhase.Sources.PV_GridTie PV_GridTie2(Np=100,moduleData=moduleData,useConstantIrradiance=false); MicroGrid.OnePhase.Components.Transformers.TransformerBasic Transformer2(TurnsRatio=14.67); Modelica.Blocks.Sources.Constant irradiance3(k=1000); MicroGrid.OnePhase.Sources.PV_GridTie PV_GridTie3(Np=100,moduleData=moduleData,useConstantIrradiance=false); MicroGrid.OnePhase.Components.Transformers.TransformerBasic Transformer1(TurnsRatio=14.67); MicroGrid.OnePhase.Components.Load.Resistive load1; MicroGrid.OnePhase.Components.Load.Resistive load2; MicroGrid.OnePhase.Components.Load.Resistive load3; MicroGrid.Examples.OnePhase.Building_load Building_load1; MicroGrid.Examples.OnePhase.Building_load Building_load2; MicroGrid.Examples.OnePhase.Building_load Building_load3; MicroGrid.Interfaces.OnePhase.BusBar BusBar3(n=3); MicroGrid.OnePhase.Components.Breaker.CircuitBreaker CircuitBreaker2(Cut=20); MicroGrid.OnePhase.Components.Load.Resistive load5; MicroGrid.OnePhase.Components.Load.Resistive load6; MicroGrid.Examples.OnePhase.Building_load Building_load5; MicroGrid.Examples.OnePhase.Building_load Building_load6; Modelica.Blocks.Sources.Constant WindVelocity1(k=25); MicroGrid.OnePhase.Sources.WindPowerPlant WindPowerPlant1(n=48); MicroGrid.OnePhase.Sources.WindPowerPlant WindPowerPlant2(n=60); Modelica.Blocks.Sources.Constant WindVelocity2(k=35); parameter MicroGrid.DC.PhotoVoltaics.Records.ModuleData moduleData(ImpRef = 7.61, IscRef = 8.21, VmpRef = 26.3, VocRef = 32.9, alphaIsc = 3.18e-3, alphaVoc = -0.123, ns = 54); equation connect(GridCapacity.y,MainGrid.P_in); connect(MainGrid.v_out,Transformer4.V_in); connect(MainGrid.terminal,Transformer4.terminal_in); connect(Transformer4.V_out,BusBar1.V_in[1]); connect(Transformer4.terminal_out,BusBar1.pin_N[1]); connect(BusBar1.V_out,load4.V_in); connect(BusBar1.pin_P,load4.terminal); connect(load4.Y,Building_load4.y); connect(BusBar1.V_out,CircuitBreaker1.V_in); connect(BusBar1.pin_P,CircuitBreaker1.P); connect(CircuitBreaker1.V_out,BusBar2.V_in[4]); connect(CircuitBreaker1.N,BusBar2.pin_N[4]); connect(irradiance1.y,PV_GridTie1.Irradiance_input); connect(PV_GridTie1.pin_out,TransformerBasic.terminal_in); connect(PV_GridTie1.V_out,TransformerBasic.V_in); connect(TransformerBasic.V_out,BusBar2.V_in[3]); connect(TransformerBasic.terminal_out,BusBar2.pin_N[3]); connect(irradiance2.y,PV_GridTie2.Irradiance_input); connect(PV_GridTie2.pin_out,TransformerBasic.terminal_in); connect(PV_GridTie2.V_out,TransformerBasic.V_in); connect(TransformerBasic.V_out,BusBar2.V_in[2]); connect(TransformerBasic.terminal_out,BusBar2.pin_N[2]); connect(irradiance3.y,PV_GridTie3.Irradiance_input); connect(PV_GridTie3.pin_out,TransformerBasic.terminal_in); connect(PV_GridTie3.V_out,TransformerBasic.V_in); connect(TransformerBasic.V_out,BusBar2.V_in[1]); connect(TransformerBasic.terminal_out,BusBar2.pin_N[1]); connect(BusBar2.V_out,Resistive.V_in); connect(BusBar2.pin_P,Resistive.terminal); connect(Resistive.Y,Building_load.y); connect(BusBar2.V_out,Resistive.V_in); connect(BusBar2.pin_P,Resistive.terminal); connect(Resistive.Y,Building_load.y); connect(BusBar2.V_out,Resistive.V_in); connect(BusBar2.pin_P,Resistive.terminal); connect(Resistive.Y,Building_load.y); connect(BusBar2.V_out,CircuitBreaker2.V_in); connect(BusBar2.pin_P,CircuitBreaker2.P); connect(CircuitBreaker2.V_out,BusBar3.V_in[3]); connect(CircuitBreaker2.N,BusBar3.pin_N[3]); connect(BusBar3.V_out,Resistive.V_in); connect(BusBar3.pin_P,Resistive.terminal); connect(Resistive.Y,Building_load.y); connect(BusBar3.V_out,Resistive.V_in); connect(BusBar3.pin_P,Resistive.terminal); connect(Resistive.Y,Building_load.y); connect(WindVelocity2.y,WindPowerPlant2.WindVelocity); connect(WindPowerPlant2.V_out,BusBar3.V_in[2]); connect(WindPowerPlant2.pin_P1,BusBar3.pin_N[2]); connect(WindVelocity.y,WindPowerPlant.WindVelocity); connect(WindPowerPlant.V_out,BusBar3.V_in[1]); connect(WindPowerPlant.pin_P1,BusBar3.pin_N[1]);  end NewModel"